var maybe = require("../functional/logical.js").maybe.binary;
var DoublyLinkedListNode = require("./DLinkedNode.js");
var Interface = require("../interface").Interface;

var is = require("../functional/predicates.js");
var List = Interface
        .contracts({
            length:is.number,
            push:is.function,
            pop:is.function,
            map:is.function,
            forEach:is.function,
            toArray:is.function
        })
        .aspects({
            incLength:function(name,func) {
                return this
                    .method(name,func)
                    .aftero(name,function(args,meta) {
                        this.length++;
                        return meta.value;
                    });
            },
            decLength:function(name,func) {
                return this
                    .method(name,func)
                    .aftero(name,function(args,meta) {
                        this.length--;
                        return meta.value;
                    });
            }
        })
